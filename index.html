<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduWallet - Student Budget Pro</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM CDNs -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX transpilation in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // Custom Icon Components (Replacements for Lucide)
        const Icon = ({ name, size = 24, className = "" }) => {
            const icons = {
                dashboard: <path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z" />,
                history: <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />,
                budget: <path d="M21.21 15.89A10 10 0 118 2.83M22 12A10 10 0 0012 2v10z" />,
                settings: <path d="M12.22 2h-.44a2 2 0 00-2 2v.18a2 2 0 01-1 1.73l-.43.25a2 2 0 01-2 0l-.15-.08a2 2 0 00-2.73.73l-.22.38a2 2 0 00.73 2.73l.15.1a2 2 0 011 1.72v.51a2 2 0 01-1 1.74l-.15.09a2 2 0 00-.73 2.73l.22.38a2 2 0 002.73.73l.15-.08a2 2 0 012 0l.43.25a2 2 0 011 1.73V20a2 2 0 002 2h.44a2 2 0 002-2v-.18a2 2 0 011-1.73l.43-.25a2 2 0 012 0l.15.08a2 2 0 002.73-.73l.22-.39a2 2 0 00-.73-2.73l-.15-.1a2 2 0 01-1-1.74v-.5a2 2 0 011-1.74l.15-.09a2 2 0 00.73-2.73l-.22-.38a2 2 0 00-2.73-.73l-.15.08a2 2 0 01-2 0l-.43-.25a2 2 0 01-1-1.73V4a2 2 0 00-2-2z" />,
                wallet: <path d="M20 12V8H6a2 2 0 01-2-2c0-1.1.9-2 2-2h12v4M4 6v12a2 2 0 002 2h14v-4" />,
                plus: <path d="M12 5v14M5 12h14" />,
                up: <path d="M7 17L17 7M7 7h10v10" />,
                down: <path d="M7 7l10 10M17 7H7v10" />,
                trash: <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" />,
                chevron: <path d="M9 18l6-6-6-6" />,
                card: (
                  <React.Fragment>
                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2" />
                    <path d="M1 10h22" />
                  </React.Fragment>
                ),
                grad: <path d="M22 10L12 5 2 10l10 5 10-5zM6 12v5c0 2 2.7 3 6 3s6-1 6-3v-5" />,
                logout: <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9" />
            };
            return (
                <svg 
                    width={size} 
                    height={size} 
                    viewBox="0 0 24 24" 
                    fill="none" 
                    stroke="currentColor" 
                    strokeWidth="2" 
                    strokeLinecap="round" 
                    strokeLinejoin="round" 
                    className={className}
                >
                    {icons[name]}
                </svg>
            );
        };

        const App = () => {
            const [view, setView] = useState('dashboard');
            const [balance, setBalance] = useState(1250.00);
            const [transactions, setTransactions] = useState([
                { id: 1, title: 'Monthly Stipend', amount: 800, type: 'income', category: 'Grant', date: '2023-10-01' },
                { id: 2, title: 'Starbucks Study Session', amount: -6.50, type: 'expense', category: 'Food', date: '2023-10-02' },
                { id: 3, title: 'Textbooks', amount: -120, type: 'expense', category: 'Education', date: '2023-10-03' },
                { id: 4, title: 'Part-time Shift', amount: 150, type: 'income', category: 'Job', date: '2023-10-04' },
            ]);

            const [isModalOpen, setIsModalOpen] = useState(false);
            const [formData, setFormData] = useState({ title: '', amount: '', type: 'expense', category: 'General' });

            const totals = useMemo(() => {
                const income = transactions.filter(t => t.type === 'income').reduce((acc, curr) => acc + curr.amount, 0);
                const expenses = transactions.filter(t => t.type === 'expense').reduce((acc, curr) => acc + Math.abs(curr.amount), 0);
                return { income, expenses, net: income - expenses };
            }, [transactions]);

            const categories = {
                expense: ['Food', 'Rent', 'Education', 'Social', 'Transport', 'Subscriptions', 'General'],
                income: ['Job', 'Grant', 'Allowance', 'Refund', 'Gifts']
            };

            const handleAddTransaction = (e) => {
                e.preventDefault();
                if (!formData.title || !formData.amount) return;

                const newTx = {
                    id: Date.now(),
                    title: formData.title,
                    amount: formData.type === 'expense' ? -Math.abs(parseFloat(formData.amount)) : Math.abs(parseFloat(formData.amount)),
                    type: formData.type,
                    category: formData.category,
                    date: new Date().toISOString().split('T')[0]
                };

                setTransactions([newTx, ...transactions]);
                setBalance(prev => prev + newTx.amount);
                setIsModalOpen(false);
                setFormData({ title: '', amount: '', type: 'expense', category: 'General' });
            };

            const deleteTransaction = (id) => {
                const tx = transactions.find(t => t.id === id);
                setBalance(prev => prev - tx.amount);
                setTransactions(transactions.filter(t => t.id !== id));
            };

            const StatCard = ({ title, value, icon, color }) => (
                <div className="bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex items-center gap-4">
                    <div className={`p-3 rounded-2xl ${color}`}>
                        <Icon name={icon} size={24} className="text-white" />
                    </div>
                    <div>
                        <p className="text-sm text-slate-500 font-medium">{title}</p>
                        <p className="text-2xl font-bold text-slate-800">${Math.abs(value).toLocaleString()}</p>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-900 pb-24 md:pb-0 md:pl-64">
                    {/* Navigation */}
                    <nav className="fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-md border-t border-slate-200 px-6 py-3 flex justify-between items-center md:top-0 md:bottom-auto md:flex-col md:w-64 md:h-screen md:border-t-0 md:border-r md:px-4 md:py-8 z-50">
                        <div className="hidden md:flex items-center gap-2 mb-12 px-4">
                            <div className="bg-indigo-600 p-2 rounded-xl">
                                <Icon name="grad" size={24} className="text-white" />
                            </div>
                            <span className="text-xl font-bold tracking-tight text-slate-900">EduWallet</span>
                        </div>
                        
                        <div className="flex md:flex-col gap-8 md:gap-4 w-full justify-around md:justify-start">
                            {[
                                { id: 'dashboard', icon: 'dashboard', label: 'Home' },
                                { id: 'transactions', icon: 'history', label: 'History' },
                                { id: 'budget', icon: 'budget', label: 'Budget' },
                                { id: 'settings', icon: 'settings', label: 'Profile' }
                            ].map((item) => (
                                <button
                                    key={item.id}
                                    onClick={() => setView(item.id)}
                                    className={`flex flex-col md:flex-row items-center gap-3 px-4 py-3 rounded-2xl transition-all ${
                                        view === item.id 
                                            ? 'text-indigo-600 md:bg-indigo-50 font-semibold' 
                                            : 'text-slate-400 hover:text-slate-600'
                                    }`}
                                >
                                    <Icon name={item.icon} size={24} />
                                    <span className="text-[10px] md:text-sm md:font-medium">{item.label}</span>
                                </button>
                            ))}
                        </div>

                        <div className="hidden md:block mt-auto w-full px-4">
                            <button className="flex items-center gap-3 text-slate-400 hover:text-red-500 transition-colors py-3">
                                <Icon name="logout" size={20} />
                                <span className="font-medium">Sign Out</span>
                            </button>
                        </div>
                    </nav>

                    <main className="max-w-5xl mx-auto p-6 md:p-10">
                        <header className="flex justify-between items-center mb-8">
                            <div>
                                <h1 className="text-3xl font-extrabold tracking-tight">
                                    {view === 'dashboard' ? 'Welcome back, Alex!' : 
                                     view === 'transactions' ? 'Transaction History' : 
                                     view === 'budget' ? 'Budget Planner' : 'Settings'}
                                </h1>
                                <p className="text-slate-500 font-medium">October 2023 Overview</p>
                            </div>
                            <button 
                                onClick={() => setIsModalOpen(true)}
                                className="bg-indigo-600 hover:bg-indigo-700 text-white p-3 md:px-6 md:py-3 rounded-2xl md:rounded-xl shadow-lg shadow-indigo-100 transition-all flex items-center gap-2 group"
                            >
                                <Icon name="plus" size={20} className="group-hover:rotate-90 transition-transform" />
                                <span className="hidden md:inline font-semibold">New Entry</span>
                            </button>
                        </header>

                        {view === 'dashboard' && (
                            <div className="space-y-8 animate-fade-in">
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <StatCard title="Main Balance" value={balance} icon="wallet" color="bg-indigo-500" />
                                    <StatCard title="Monthly Income" value={totals.income} icon="up" color="bg-emerald-500" />
                                    <StatCard title="Monthly Spent" value={totals.expenses} icon="down" color="bg-rose-500" />
                                </div>

                                <div className="bg-white p-6 rounded-3xl border border-slate-100 shadow-sm">
                                    <div className="flex justify-between items-center mb-6">
                                        <h2 className="text-xl font-bold">Safe-to-Spend</h2>
                                        <span className="text-indigo-600 font-bold bg-indigo-50 px-3 py-1 rounded-full text-sm">Target: $20/day</span>
                                    </div>
                                    <div className="space-y-4">
                                        <div className="w-full bg-slate-100 h-4 rounded-full overflow-hidden">
                                            <div 
                                                className="bg-indigo-500 h-full rounded-full transition-all duration-1000" 
                                                style={{ width: `${Math.min((totals.expenses / (totals.income || 1)) * 100, 100)}%` }}
                                            />
                                        </div>
                                        <div className="flex justify-between text-sm font-medium text-slate-500">
                                            <span>Spent: ${totals.expenses.toFixed(0)}</span>
                                            <span>Budget: ${totals.income.toFixed(0)}</span>
                                        </div>
                                    </div>
                                </div>

                                <div className="space-y-4">
                                    <div className="flex justify-between items-center px-1">
                                        <h2 className="text-xl font-bold">Recent Activity</h2>
                                        <button onClick={() => setView('transactions')} className="text-indigo-600 text-sm font-bold flex items-center gap-1">
                                            See All <Icon name="chevron" size={16} />
                                        </button>
                                    </div>
                                    
                                    <div className="grid gap-3">
                                        {transactions.slice(0, 5).map(tx => (
                                            <div key={tx.id} className="bg-white p-4 rounded-2xl flex items-center justify-between border border-slate-100 hover:border-indigo-100 transition-colors group">
                                                <div className="flex items-center gap-4">
                                                    <div className={`p-3 rounded-xl ${tx.type === 'income' ? 'bg-emerald-50 text-emerald-600' : 'bg-rose-50 text-rose-600'}`}>
                                                        {tx.type === 'income' ? <Icon name="up" size={20} /> : <Icon name="card" size={20} />}
                                                    </div>
                                                    <div>
                                                        <p className="font-bold text-slate-800">{tx.title}</p>
                                                        <p className="text-xs text-slate-400 font-medium uppercase tracking-wider">{tx.category} â€¢ {tx.date}</p>
                                                    </div>
                                                </div>
                                                <div className="text-right flex items-center gap-4">
                                                    <p className={`font-bold text-lg ${tx.type === 'income' ? 'text-emerald-600' : 'text-slate-800'}`}>
                                                        {tx.type === 'income' ? '+' : '-'}${Math.abs(tx.amount).toFixed(2)}
                                                    </p>
                                                    <button 
                                                        onClick={() => deleteTransaction(tx.id)}
                                                        className="p-2 text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all"
                                                    >
                                                        <Icon name="trash" size={18} />
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {view === 'transactions' && (
                            <div className="animate-fade-in">
                                <div className="bg-white rounded-3xl border border-slate-100 overflow-hidden shadow-sm overflow-x-auto">
                                    <table className="w-full text-left min-w-[500px]">
                                        <thead className="bg-slate-50 border-b border-slate-100">
                                            <tr>
                                                <th className="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-widest">Date</th>
                                                <th className="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-widest">Description</th>
                                                <th className="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-widest">Category</th>
                                                <th className="px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-widest text-right">Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-slate-100">
                                            {transactions.map(tx => (
                                                <tr key={tx.id} className="hover:bg-slate-50/50 transition-colors">
                                                    <td className="px-6 py-4 text-sm text-slate-500 tabular-nums">{tx.date}</td>
                                                    <td className="px-6 py-4 font-bold">{tx.title}</td>
                                                    <td className="px-6 py-4">
                                                        <span className="bg-slate-100 px-3 py-1 rounded-full text-xs font-bold text-slate-500">
                                                            {tx.category}
                                                        </span>
                                                    </td>
                                                    <td className={`px-6 py-4 text-right font-bold ${tx.type === 'income' ? 'text-emerald-600' : 'text-slate-800'}`}>
                                                        {tx.type === 'income' ? '+' : '-'}${Math.abs(tx.amount).toFixed(2)}
                                                    </td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        )}

                        {view === 'budget' && (
                            <div className="p-12 text-center bg-white rounded-3xl border-2 border-dashed border-slate-200 animate-fade-in">
                                <Icon name="budget" size={64} className="mx-auto text-slate-300 mb-4" />
                                <h2 className="text-xl font-bold mb-2">Smart Budget Planning</h2>
                                <p className="text-slate-500 max-w-sm mx-auto">This feature is being tuned for student life. Soon you'll be able to split your budget into Needs, Wants, and Savings automatically.</p>
                            </div>
                        )}

                        {view === 'settings' && (
                            <div className="p-12 text-center bg-white rounded-3xl border border-slate-100 animate-fade-in">
                                <Icon name="settings" size={64} className="mx-auto text-slate-300 mb-4" />
                                <h2 className="text-xl font-bold mb-2">Account Settings</h2>
                                <p className="text-slate-500 max-w-sm mx-auto">Personalize your student profile, set currency preferences, and manage linked scholarship accounts.</p>
                            </div>
                        )}
                    </main>

                    {/* Modal */}
                    {isModalOpen && (
                        <div className="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4">
                            <div className="bg-white w-full max-w-md rounded-3xl p-8 shadow-2xl animate-fade-in">
                                <h3 className="text-2xl font-bold mb-6">Add New Transaction</h3>
                                <form onSubmit={handleAddTransaction} className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-bold text-slate-500 mb-2">Description</label>
                                        <input 
                                            type="text" 
                                            placeholder="e.g. Weekly Groceries"
                                            className="w-full bg-slate-50 border-none rounded-2xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 transition-all outline-none"
                                            value={formData.title}
                                            onChange={e => setFormData({...formData, title: e.target.value})}
                                            required
                                        />
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-bold text-slate-500 mb-2">Amount ($)</label>
                                            <input 
                                                type="number" 
                                                step="0.01"
                                                placeholder="0.00"
                                                className="w-full bg-slate-50 border-none rounded-2xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 transition-all outline-none"
                                                value={formData.amount}
                                                onChange={e => setFormData({...formData, amount: e.target.value})}
                                                required
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-bold text-slate-500 mb-2">Type</label>
                                            <select 
                                                className="w-full bg-slate-50 border-none rounded-2xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 transition-all appearance-none outline-none"
                                                value={formData.type}
                                                onChange={e => setFormData({...formData, type: e.target.value, category: categories[e.target.value][0]})}
                                            >
                                                <option value="expense">Expense</option>
                                                <option value="income">Income</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-bold text-slate-500 mb-2">Category</label>
                                        <select 
                                            className="w-full bg-slate-50 border-none rounded-2xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 transition-all appearance-none outline-none"
                                            value={formData.category}
                                            onChange={e => setFormData({...formData, category: e.target.value})}
                                        >
                                            {categories[formData.type].map(cat => (
                                                <option key={cat} value={cat}>{cat}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div className="flex gap-3 pt-4">
                                        <button 
                                            type="button"
                                            onClick={() => setIsModalOpen(false)}
                                            className="flex-1 bg-slate-100 text-slate-600 font-bold py-4 rounded-2xl hover:bg-slate-200 transition-colors"
                                        >
                                            Cancel
                                        </button>
                                        <button 
                                            type="submit"
                                            className="flex-1 bg-indigo-600 text-white font-bold py-4 rounded-2xl hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all"
                                        >
                                            Save Entry
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
